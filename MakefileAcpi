CC = i686-elf-gcc
AR = i686-elf-ar
CFLAGS = -ffreestanding -ggdb -Iinclude -Iinclude/acpi -D_FUTURA

SOURCES := $(shell find src/acpi -name '*.c')
OBJECTS := $(patsubst src/%.c,obj/%.o,$(SOURCES))

all: bin/libacpi.a

bin/libacpi.a: $(OBJECTS) | bin/
	$(AR) rcs $@ $^

obj/%.o: src/%.c | obj/
	$(CC) $(CFLAGS) -c $< -o $@

bin/ obj/:
	mkdir $@
